<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="rms lido">
	<meta name="portfolio" content="https://elido-ramiandrisoa.vercel.app/">
	<title>Dashboard</title>
	<link rel="stylesheet" href="dash.css">
	<!-- Font Awesome pour les icônes -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- ApexCharts CDN -->
	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
	<div class="dashboard">
		<!-- Menu rideau à gauche -->
		<div class="sidebar">
			<div class="logo">
				<h2>Dashboard</h2>
				<button id="toggle-sidebar"><i class="fas fa-bars"></i></button>
			</div>
			<ul class="menu">
				<li class="active"><a href="#"><i class="fas fa-home"></i> <span>Accueil</span></a></li>
				<li><a href="#"><i class="fas fa-chart-line"></i> <span>Statistiques</span></a></li>
				<li><a href="#"><i class="fas fa-users"></i> <span>Utilisateurs</span></a></li>
				<li><a href="#"><i class="fas fa-cog"></i> <span>Paramètres</span></a></li>
				<li><a href="#"><i class="fas fa-bell"></i> <span>Notifications</span></a></li>

				<li><a href="#"><i class="fas fa-folder"></i> <span>Projets</span></a></li>
				<li><a href="#"><i class="fas fa-tasks"></i> <span>Tâches</span></a></li>

				<li><a href="#"><i class="fas fa-store"></i> <span>Boutique</span></a></li>
				<li><a href="#"><i class="fas fa-sign-out-alt"></i> <span>Déconnexion</span></a></li>
			</ul>
		</div>

		<!-- Contenu principal -->
		<div class="content">

			<div class="topbar">
				<div class="search">
					<input type="text" placeholder="Rechercher...">
					<i class="fas fa-search"></i>
				</div>
				<div class="user-section">
					<div class="notifications">
						<i class="fas fa-bell"></i>
						<span class="badge">3</span>
					</div>
					<div class="messages">
						<i class="fas fa-envelope"></i>
						<span class="badge">5</span>
					</div>
					<div class="user">
						<img src="me.JPG" alt="User">
						<div class="user-info">
							<span class="name">Rms lido</span>
							<span class="role">Administrateur</span>
						</div>
					</div>
				</div>
			</div>


			<div class="info-cards">
				<div class="card">
					<div class="card-icon blue"><i class="fas fa-users"></i></div>
					<div class="card-info">
						<h3>Utilisateurs</h3>
						<p>1,250</p>
						<div class="trend up">
							<i class="fas fa-arrow-up"></i>
							<span>12% ce mois</span>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-icon green"><i class="fas fa-chart-bar"></i></div>
					<div class="card-info">
						<h3>Revenu</h3>
						<p>200M mga</p>
						<div class="trend up">
							<i class="fas fa-arrow-up"></i>
							<span>8.2% ce mois</span>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-icon orange"><i class="fas fa-shopping-cart"></i></div>
					<div class="card-info">
						<h3>Commandes</h3>
						<p>456</p>
						<div class="trend down">
							<i class="fas fa-arrow-down"></i>
							<span>3.6% ce mois</span>
						</div>
					</div>
				</div>

				<div class="card">
					<div class="card-icon purple"><i class="fas fa-comment"></i></div>
					<div class="card-info">
						<h3>Commentaires</h3>
						<p>89</p>
						<div class="trend up">
							<i class="fas fa-arrow-up"></i>
							<span>14% ce mois</span>
						</div>
					</div>
				</div>

			</div>

			<!-- Graphiques -->
			<div class="charts">
				<div class="chart-container">
					<div class="chart-header">
						<h3>Statistiques mensuelles</h3>
						<div class="chart-controls">
							<button class="active">Jour</button>
							<button>Mois</button>
							<button>Année</button>
						</div>
					</div>
					<div id="bar-chart"></div>
				</div>
				<div class="chart-container">
					<div class="chart-header">
						<h3>Répartition</h3>
						<div class="chart-controls">
							<select>
								<option>Tous les départements</option>
								<option>Marketing</option>
								<option>Ventes</option>
								<option>Support</option>
							</select>
						</div>
					</div>
					<div id="donut-chart"></div>
				</div>
			</div>
		</div>
	</div>

	<script>

		document.getElementById('toggle-sidebar').addEventListener('click', function () {
			const sidebar = document.querySelector('.sidebar');
			const content = document.querySelector('.content');

			sidebar.classList.toggle('collapsed');


			if (window.innerWidth <= 991) {

				content.classList.toggle('expanded');
			}


			setTimeout(function () {
				if (typeof barChart !== 'undefined') barChart.render();
				if (typeof donutChart !== 'undefined') donutChart.render();
			}, 350);
		});


		window.addEventListener('resize', function () {
			const sidebar = document.querySelector('.sidebar');
			const content = document.querySelector('.content');


			if (window.innerWidth <= 991) {
				if (sidebar.classList.contains('collapsed')) {
					content.classList.add('expanded');
				} else {
					content.classList.remove('expanded');
				}
			}


			if (typeof barChart !== 'undefined') barChart.render();
			if (typeof donutChart !== 'undefined') donutChart.render();
		});


		window.addEventListener('load', function () {

			if (window.innerWidth <= 991) {
				document.querySelector('.sidebar').classList.add('collapsed');
				document.querySelector('.content').classList.add('expanded');
			}
		});

		// Bar chart
		var barOptions = {
			series: [{
				name: 'Ventes',
				data: [44, 55, 57, 56, 61, 58, 63, 60, 66]
			}, {
				name: 'Revenus',
				data: [76, 85, 101, 98, 87, 105, 91, 114, 94]
			}],
			chart: {
				type: 'bar',
				height: 300,
				toolbar: {
					show: false
				},
				fontFamily: 'Segoe UI, sans-serif',
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: '55%',
					borderRadius: 6,
					dataLabels: {
						position: 'top'
					}
				},
			},
			colors: ['#4361ee', '#3a0ca3'],
			dataLabels: {
				enabled: false
			},
			stroke: {
				show: true,
				width: 2,
				colors: ['transparent']
			},
			xaxis: {
				categories: ['Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct'],
				labels: {
					style: {
						fontSize: '12px',
						fontFamily: 'Segoe UI, sans-serif',
					}
				}
			},
			yaxis: {
				labels: {
					style: {
						fontSize: '12px',
						fontFamily: 'Segoe UI, sans-serif',
					}
				}
			},
			fill: {
				opacity: 1,
				type: 'gradient',
				gradient: {
					shade: 'light',
					type: 'vertical',
					shadeIntensity: 0.2,
					inverseColors: false,
					opacityFrom: 1,
					opacityTo: 0.9,
				}
			},
			tooltip: {
				y: {
					formatter: function (val) {
						return val
					}
				},
				theme: 'dark'
			}
		};
		var barChart = new ApexCharts(document.querySelector("#bar-chart"), barOptions);
		barChart.render();

		// Donut chart
		var donutOptions = {
			series: [44, 55, 13, 43, 22],
			chart: {
				type: 'donut',
				height: 300,
				fontFamily: 'Segoe UI, sans-serif',
			},
			labels: ['Équipe A', 'Équipe B', 'Équipe C', 'Équipe D', 'Équipe E'],
			colors: ['#4361ee', '#3a0ca3', '#7209b7', '#f72585', '#560bad'],
			plotOptions: {
				pie: {
					donut: {
						size: '70%',
						labels: {
							show: true,
							name: {
								show: true,
								fontSize: '14px',
								fontWeight: 600,
							},
							value: {
								show: true,
								fontSize: '16px',
								fontWeight: 400,
								formatter: function (val) {
									return val + '%';
								}
							},
							total: {
								show: true,
								label: 'Total',
								formatter: function (w) {
									return w.globals.seriesTotals.reduce((a, b) => a + b, 0) + '%';
								}
							}
						}
					}
				}
			},
			dataLabels: {
				enabled: false
			},
			legend: {
				position: 'bottom',
				fontFamily: 'Segoe UI, sans-serif',
			},
			responsive: [{
				breakpoint: 480,
				options: {
					chart: {
						height: 300
					},
					legend: {
						position: 'bottom'
					}
				}
			}]
		};
		var donutChart = new ApexCharts(document.querySelector("#donut-chart"), donutOptions);
		donutChart.render();
	</script>
</body>

</html>